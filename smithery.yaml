name: twitter-market-mcp
version: 1.0.0
description: Market sentiment analysis service using Twitter and stock data

service:
  type: mcp
  protocol: http
  port: 8000
  healthcheck:
    path: /
    interval: 30s
    timeout: 5s
    retries: 3
  readiness:
    path: /_mcp/capabilities
    initialDelaySeconds: 10

resources:
  cpu: 0.5
  memory: 512Mi
  replicas: 2

environment:
  - name: PORT
    value: "8000"
  - name: CACHE_DURATION
    value: "3600"
  - name: LOG_LEVEL
    value: "INFO"
  - name: PYTHONPATH
    value: "/app"

endpoints:
  - path: /analyze
    method: POST
    description: Analyze market sentiment for a stock symbol
    rateLimit:
      requests: 100
      period: 1m
  - path: /stock/{symbol}
    method: GET
    description: Get basic stock information
    rateLimit:
      requests: 200
      period: 1m
  - path: /_mcp/analyze
    method: POST
    description: MCP protocol endpoint for analysis
    rateLimit:
      requests: 100
      period: 1m
  - path: /_mcp/capabilities
    method: GET
    description: MCP protocol capabilities

scaling:
  min_replicas: 1
  max_replicas: 5
  target_cpu_utilization: 70
  cooldown:
    scale_up: 60s
    scale_down: 300s

security:
  cors:
    enabled: true
    origins: ["*"]
  headers:
    - X-Frame-Options: DENY
    - X-Content-Type-Options: nosniff
    - Strict-Transport-Security: max-age=31536000; includeSubDomains

monitoring:
  metrics:
    enabled: true
    path: /metrics
  logging:
    level: INFO
    format: json 